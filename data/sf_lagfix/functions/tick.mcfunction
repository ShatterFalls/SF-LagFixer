# Timer warning
execute if score LF.TimerCurrent sf.LagFixer matches 1800 run tellraw @a [{"text": "[","color": "gray"},{"text": "LF","color": "green","hoverEvent": {"action": "show_text","value": [{"text": "[","color": "gray"},{"text": "SF","color": "dark_purple"},{"text": "]","color": "gray"},{"text": "LagFixer","color": "gold"}]}},{"text": "] ","color": "gray"},{"text": "Lag will be removed in 30 minutes!","color": "gold"}]
execute if score LF.TimerCurrent sf.LagFixer matches 900 run tellraw @a [{"text": "[","color": "gray"},{"text": "LF","color": "green","hoverEvent": {"action": "show_text","value": [{"text": "[","color": "gray"},{"text": "SF","color": "dark_purple"},{"text": "]","color": "gray"},{"text": "LagFixer","color": "gold"}]}},{"text": "] ","color": "gray"},{"text": "Lag will be removed in 15 minutes!","color": "gold"}]
execute if score LF.TimerCurrent sf.LagFixer matches 300 run tellraw @a [{"text": "[","color": "gray"},{"text": "LF","color": "green","hoverEvent": {"action": "show_text","value": [{"text": "[","color": "gray"},{"text": "SF","color": "dark_purple"},{"text": "]","color": "gray"},{"text": "LagFixer","color": "gold"}]}},{"text": "] ","color": "gray"},{"text": "Lag will be removed in 5 minutes!","color": "gold"}]
execute if score LF.TimerCurrent sf.LagFixer matches 60 run tellraw @a [{"text": "[","color": "gray"},{"text": "LF","color": "green","hoverEvent": {"action": "show_text","value": [{"text": "[","color": "gray"},{"text": "SF","color": "dark_purple"},{"text": "]","color": "gray"},{"text": "LagFixer","color": "gold"}]}},{"text": "] ","color": "gray"},{"text": "Lag will be removed in ","color": "gold"},{"text": "1 minute","color": "red"},{"text": "!","color": "gold"}]
execute if score LF.TimerCurrent sf.LagFixer matches 15 run tellraw @a [{"text": "[","color": "gray"},{"text": "LF","color": "green","hoverEvent": {"action": "show_text","value": [{"text": "[","color": "gray"},{"text": "SF","color": "dark_purple"},{"text": "]","color": "gray"},{"text": "LagFixer","color": "gold"}]}},{"text": "] ","color": "gray"},{"text": "Lag will be removed in ","color": "gold"},{"text": "15 seconds","color": "red"},{"text": "!","color": "gold"}]
execute if score LF.TimerCurrent sf.LagFixer matches 5 run title @a actionbar [{"text": "[","color": "gray"},{"text": "LF","color": "green"},{"text": "] ","color": "gray"},{"text": "Clear in ","color": "gold"},{"text": "5..","color": "red"}]
execute if score LF.TimerCurrent sf.LagFixer matches 4 run title @a actionbar [{"text": "[","color": "gray"},{"text": "LF","color": "green"},{"text": "] ","color": "gray"},{"text": "Clear in ","color": "gold"},{"text": "4..","color": "red"}]
execute if score LF.TimerCurrent sf.LagFixer matches 3 run title @a actionbar [{"text": "[","color": "gray"},{"text": "LF","color": "green"},{"text": "] ","color": "gray"},{"text": "Clear in ","color": "gold"},{"text": "3..","color": "red"}]
execute if score LF.TimerCurrent sf.LagFixer matches 2 run title @a actionbar [{"text": "[","color": "gray"},{"text": "LF","color": "green"},{"text": "] ","color": "gray"},{"text": "Clear in ","color": "gold"},{"text": "2..","color": "red"}]
execute if score LF.TimerCurrent sf.LagFixer matches 1 run title @a actionbar [{"text": "[","color": "gray"},{"text": "LF","color": "green"},{"text": "] ","color": "gray"},{"text": "Clear in ","color": "gold"},{"text": "1..","color": "red"}]
# Run Clear and reset timer
execute if score LF.TimerCurrent sf.LagFixer matches 0 run function sf_lagfix:clear
execute if score LF.TimerCurrent sf.LagFixer matches 0 run scoreboard players operation LF.TimerCurrent sf.LagFixer = LF.TimerMax sf.LagFixer
# Countdown
scoreboard players remove LF.TimerCurrent sf.LagFixer 1
# Rescheduler
schedule function sf_lagfix:tick 1s
